---
//src/pages/feed.astro
import Layout from '../layouts/Layout.astro';
import Post from '../components/Post.astro';

import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);

if (!session) {
  return Astro.redirect('/login');
}
---

<Layout title="Feed | JDM Social Network">
	<h1>Tu Feed</h1>
	<Post 
		username="jdm_legend"
		content="¡Acabo de terminar de restaurar mi AE86! ¡Vibes de Initial D todo el día!"
		image="ae86.jpg"
	/>
	<Post 
		username="boost_junkie"
		content="¿Quién va a la reunión JDM este fin de semana? Llevaré mi Evo IX recién ajustado."
		image="evo.jpg"
	/>
	<Post 
		username="rotary_life"
		content="Dueños de RX-8, ¿cuál ha sido su modificación favorita hasta ahora?"
		image="rx8.jpg"
	/>
	<Post 
		username="drift_missile"
		content="¡Nuevos coilovers instalados en el S13! ¡Es hora de afinar esa configuración de drifting perfecta!"
		image="s13.jpg"
	/>
	
</Layout>

<style>
	h1 {
		margin-bottom: 2rem;
	}
</style>